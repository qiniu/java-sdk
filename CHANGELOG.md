# Changelog

## 7.17.0 (2024-10-25)

* 支持代码生成器
* 支持任务模版
* 处理 Response 成功但读取 Body 失败的场景
* 支持 IAM 账户接口（示例：src/test/java/com/qiniu/iam/apis）

## 7.16.0 (2024-09-12)

* 支持闲时任务
* 移除已下线区域相关域名

## 7.15.1 (2024-05-29)

* 处理在构造 Download URL 时 Key 前缀为 / 的情况

## 7.15.0 (2023-12-25)

* 区域缓存支持磁盘缓存
* 提供快速生成公有云的区域实例的方法
* batch 操作接口增强
* 支持归档直读

## 7.14.0 (2023-07-18)

* Region 移除亚太首尔区域
* BucketManager 的部分 Bucket 级别接口支持主备重试

## 7.13.1 (2023-05-25)

* 优化 BucketManager 的 getBucketQuota 方法
* 废弃 pu.qbox.me 域名
* 废弃 BucketManager 的 listFilesV2 方法
* PlayExpire

## 7.13.0 (2023-03-30)

* Client 开放 head 请求方法
* BatchOperations 增加 size() 方法
* BucketManager 支持获取源站域名

## 7.12.1 (2022-12-07）

* uc query 增加全局缓存
* 处理分片 v2 块大小设置无效问题

## 7.12.0 (2022-10-25）

* 增加亚太-首尔区域固定 Region
* 移除雾存储区域：华东一区
* 升级 gson 版本至 2.8.9
* 表单上传支持主备域名
* 优化私有云使用姿势，不再单独配置 rs api uc域名
* 优化分片上传 ctx 超时检测

## 7.11.0 (2022-06-08）

* 对象存储，管理类 API 发送请求时增加 [X-Qiniu-Date](https://developer.qiniu.com/kodo/3924/common-request-headers)
   (生成请求的时间） header

## 7.10.4 (2022-05-27)

* 添加查询单个短信模板接口

## 7.10.3 (2022-05-19)

* 支持非 UTF-8 环境变量
* QVS修复中文前缀列举问题

## 7.10.2 (2022-04-28)

* RTC模块提供V4版本合流接口

## 7.10.1 (2022-04-25)

* 对象存储，补充 stat api 可查看对象元数据信息

## 7.10.0 (2022-04-15）

* 对象存储，新增支持 [深度归档存储类型](https://developer.qiniu.com/kodo/3956/kodo-category#deep_archive)

## 7.9.5 (2022-03-28)

## 修复

### QRTC

* 服务端支持全量覆盖，合流支持z参数, strechMode使用枚举

## 7.9.4 (2022-03-15)

## 修复

### 对象存储

* 修复大于 2G 的文件上传失败问题
* 实现了 Qiniu 签名，并替换所有管理 API 的签名方式为 [Qiniu 签名](https://developer.qiniu.com/kodo/1201/access-token)

## 7.9.3 (2022-01-27)

### 对象存储

* 增加内置华东-浙江2 区域域名信息

## 7.9.2 (2021-12-30)

## 修复

### QRTC

* qvs修复创建设备的Bug

## 7.9.1 (2021-12-20)

## 增加

### QRTC相关

* 新增语音对讲
* 新增平台设备类型

## 7.9.0 (2021-12-10)

## 增加

### QRTC相关

* 添加APP级别管理接口
* 添加ROOM级别管理接口
* 添加QRTC回调设定接口
* 添加合流任务相关接口
* 添加转推任务相关接口

## 7.8.0 (2021-06-22)

## 增加

* 支持批量解冻归档

## 7.7.0 (2021-05-28)

## 增加

* 支持跨区域双活上传，提供区域级别上传故障情况下上传可用性保障，跨区域双活功能需要工单申请开通

## 7.6.0 (2021-04-29)

## 增加

* 上传每个服务端 API 对应基础上传数据 API 支持流式数据 InputStream
* 提供更友好的构建 DownloadUrl 能力

## 7.5.0 (2021-04-15)

## 增加

* 新增上传服务基础 api
* 新增分片上传 v2 功能

## 7.4.0 (2020-11-25)

## 增加

[QVS相关](https://developer.qiniu.io/qvs/api/6706/summary-of-the-api)

* 新增录制管理相关api
* 新增数据统计管理相关api
* 流管理api增加按需截图，删除截图
* 设备管理api增加通道管理，查询本地录像回放列表
* 空间增加ondemandPull字段，模板修改recordFileFormat字段说明，增加mp4，flv录制格式字段
* 增加带有body的http的delete请求
* 增加相关单元测试并测试通过
* 新增PTZ云台控制相关接口和单测

## 7.3.0 (2020-09-11）

## 新增

* 新增流管理停止流的功能
* 新增设备管理模块的功能
* 增加空间管理的部分参数

## 修改

* 修复部分已知问题
* 去除查询推流历史记录接口 start 和 end 的非法检查，由服务端判断

## 7.2.29 (2020-05-08)

## 增加

* 视频监控(qvs)产品
* 归档存储

## 修改

* 修复 Client 的 duration

## 7.2.28 (2019-12-09)

## 增加

* Client 增加 setAppName 方法，ua 包含设置的名称

## 修改

* 修复 listFilesV2 空指针问题
* 修改 cdn 刷新、预取数量限制，和文档一致

## 7.2.27 (2019-10-22)

## 增加

* SMS 功能增加三个接口

## 7.2.25 (2019-08-23)

## 修改

* 修正 7.2.24 引入的问题： java.net.UnknownHostException: https

## 7.2.24 (2019-08-21)

## 增加

* 支持 Region

## 修改

* okhttp3 改为 3.14.2， 其要求 java 要求 1.8；
* 若 java 必须为 1.7， 可指定依赖 3.12.3

## 7.2.23 (2019-07-01)

## 增加

* SMS 功能支持

## 7.2.18 (2018-12-17)

## 修正

* 分片上传重试添加 crc32 校验
* pili stream 管理，参数 json 格式

## 7.2.15 (2018-09-10)

## 移除内部鉴权打印

## 7.2.12 (2018-05-09)

## 增加

* 增加连麦Rtc功能

## 7.2.11 (2018-03-01)

## 增加

* 增加新加坡机房的支持，新机房上线

## 7.2.10 (2018-01-30)

## 增加

* 增加changeHeaders方法用来支持资源相应头部修改
* 移除travis里面jdk7的配置，因为现在travis不再支持jdk7

## 7.2.9 (2017-12-29)

### 修正

* 部分类、方法的可访问权限
* okhttp 从 3.3.1 升级到 3.9.1
* gson 从 2.6.2 升级到 2.8.2

## 7.2.8 (2017-10-18)

### 增加

* 开放空间和域名列表域名的设置接口，以适应私有云定制
* 为Response增加close的方法
* 增加ChangeType方法用来设置资源存储类型
* 默认开启表单上传的CRC32校验功能避免网络内容劫持

### 修正

* 修复获取流历史记录的参数错误
* 移除查询处理进度的域名前缀

## 7.2.7 (2017-07-10)

### 增加

* PutPolicy里面增加 isPrefixalScope 参数

### 修正

* 修复put方法遇到InputStream为0的时候进入死循环的问题
* 修复put方法遇到IputStream的时候，出现的block's crc32 is not correct的问题

## 7.2.6 (2017-03-23)

### 修正

* 删除v1版本的access token签名中对application/json的body的签名
* 更新qetag中关闭File对象生成的InputStream对象

## 7.2.5 (2017-02-20)

### 增加

* 批量修改mimeType的操作
* 批量操作的结果内容丰富
* 开放Zone.Builder用于私有环境自定义域名
* 更新Fetch的结果，使之内容更丰富
* 开放底层HTTP库的并发链接数量和连接池数量管理
* 简单的实体类，使之成员都成为public
* 添加deleteAfterDays接口用来设置文件生存时间

### 修正

* 代码的格式化风格

## 7.2.4 (2017-02-07)

### 增加

* 北美机房的上传，转码测试用例
* 持久化处理的结果查询方法

### 修正

* 默认不设置autoZone的情况下，自动判断zone
* zone和autoZone的代码结构优化

## 7.2.3 (2017-01-11)

### 增加

* CDN url 预取
* 获取带宽、流量数据
* 获取日志列表
* 时间戳防盗链签名

### 修正

* ETag 大文件块计算整数溢出问题
* autoZone 不支持rs、rsf等问题
* 不能设置使用 https 的问题

## 7.2.2 (2016-11-04)

### 增加

* stream 方式上传

## 7.2.1 (2016-11-03)

### 修正

* streaming publish url 过期时间单位问题

## 7.2.0 (2016-11-02)

### 增加

* 为多存储区 增加 autozone, zone2
* 整合 cdn 刷新
* 整合 streaming 服务端SDK

## 7.1.3 (2016-09-02)

### 增加

* 下载方法
* 支持x:foo变量
* batch 增加force
* host first

## 7.1.2 (2016-07-14)

### 增加

* 内部dns 解析支持
* proxy 支持
* add String[] commonPrefixes in FileListing

## 7.1.1 (2016-06-27)

### 修正

* 断点上传,skip 已上传部分

## 7.1.0 (2016-04-27)

### 增加

* 升级到okhttp3, 升级次版本号。

## 7.0.9 (2016-04-22)

### 增加

* 强制copy或者move

## 7.0.8 (2016-01-05)

### 修正

* 添加写超时时间，避免okhttp 2.7 上传大文件失败

## 7.0.7 (2015-11-13)

### 修正

* invalid multipart format: multipart: message too large

## 7.0.6 (2015-10-30)

### 修正

* 断点续上传 读取本地持久化记录偏移问题
* form 及 断点上传 fname 改为 本地文件名

## 7.0.5 (2015-10-08)

### 修正

* 调大连接池，提高并发性能
* 超时单位设置

### 增加

* 增加data的异步上传

## 7.0.4.2 (2015-09-22)

### 修正

* 跟据reqid 判断服务器是否为七牛的

## 7.0.4.1 (2015-08-27)

### 修正

* okhttp 2.4 兼容问题

## 7.0.4 (2015-06-25)

### 变更

* 多zone 支持

## 7.0.3 (2015-05-04)

### 修正

* post在无body情况下变成了get。

## 7.0.2 (2015-04-15)

### 增加

* fetch 返回key
* 增加上传断点记录持久化

## 7.0.0 (2015-02-03)

### 增加

* 简化上传接口
* 自动选择断点续上传还是直传
* 重构代码，接口和内部结构更清晰
* 文件列表支持目录形式
